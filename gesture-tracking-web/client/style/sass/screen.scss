/* Welcome to Compass.
 * In this file you should write your main styles. (or centralize your imports)
 * Import this file using the following HTML or equivalent:
 * <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" /> */

@import "compass/reset";
@import "compass/css3";

$colour_grey: #c3b9c1;
$colour_grey_dark: darken( $colour_grey, 50% );
$colour_action: #0000FF;
$colour_white: #FCFAFC;

$tab_width: 2.4;
$tab_count: 3;

*{
	//outline: 1px solid red;
	@include box-sizing( border-box );
}

a{
	text-decoration: none;
	color: $colour_action;	
	padding-bottom: 2px;
	border-bottom: 2px solid transparent;
	&:hover{	
		border-bottom: 2px solid $colour_action;
	}
}

html, body{
	width:100%;
	height: 100%;
	overflow: hidden;

	font-family: inconsolata, monospace;
	letter-spacing: 1px;
	font-size: 14px;
}

.column{
	float: left;
	width: 30%;
	margin-right: 3%;
	max-width: 480px;
	min-width: 240px;
	height: 100%;
	&.column--two{
		width: 63%;
		max-width: 960px;
		min-width: 480px;
	}
}

.toggle{
	display: block;
	border: 3px solid $colour_grey;
	color: $colour_grey;
	padding: 0 .6em;
	line-height: 2em;
	margin-bottom: 1em;
	&:hover{
		border: 3px solid $colour_grey_dark;
		color: $colour_grey_dark;
	}
	&.on{
		color: $colour_action;
		border: 3px solid $colour_action;
	}
}

.controls{
	h1, h2, h3, h4, h5, h6{
		margin-bottom: 1em;
	}
}

.prose{
	line-height: 1.4em;
	h1, h2, h3, h4, h5, h6{
		margin-bottom: 1.4em;
	}
	p{
		margin-bottom: 1.4em;
	}
}

#modes{	
	width:100%;
	height: 100%;
	position: relative;
	.mode{
		width:100%;
		height: 100%;
		position: absolute;
		top: 0;
		right: 0;
		background: $colour_white;
		@include transition( transform 1s ease-out, right 1s ease-out );
		
		.tab{
			display: block;
			height: 100%;
			width: $tab_width + em;
			position: absolute;
			left: 0;
			color: $colour_grey_dark;
			cursor: pointer;			
			@include transition( border-left 0.01s 1s ease-out );
			border-left: 1px solid transparent;
			border-right: 1px solid $colour_grey_dark;			
			&:hover{
				background: $colour_action;
				color: #FFFFFF;
			}
			h1{
				text-transform: uppercase;
				@include inline-block;
				position: absolute;
				height: $tab_width + em;
				top: 0;
				left: 0;
				line-height: $tab_width + em;
				padding-right: 1.8em;	
				@include transform-origin( 0, 50% );
				@include transform( rotate( -90deg ) translateY( 50% ) translateX( -100% ) );
				&:before{
					font-size: 1.6em;
					display: block;
					right: 0;
					position: absolute;
					content: '+';
					@include transform( rotate( 45deg ) );
				}
			}			
		}
	
		.content{
			@include opacity( 1 );
			@include transition( opacity 0.5s ease-in-out );
			position: absolute;
			left: $tab_width + em;
			right: 0;
			height: 100%;
			overflow: auto;
		}

		&.off{ 
			.tab{
				@include transition( border-right 0.01s 1s ease-out );
				border-right: 1px solid transparent;
				border-left: 1px solid $colour_grey_dark;
				h1:before{
					display: none;
				}
			}
			.content{
				@include transition( opacity 0.5s ease-in-out );
				@include opacity( 0 );				
			}
		}

		@for $i from 2 through ($tab_count + 1) {
			$max_offset: 3 * $tab_width;
			&:nth-child( #{$i} ){
				$this_offset: ($i - 2) * $tab_width;
				$other_offset: $max_offset - ( ($i - 1) * $tab_width);
				
				width: -webkit-calc( 100% - ( #{$this_offset}em) );
				width: -moz-calc( 100% - ( #{$this_offset}em) );
				width: calc( 100% - ( #{$this_offset}em) );

				//background: lighten( $colour_grey, percentage( ($i - 1)*0.1 ) );
				
				&.off{
					//@include transform( translateX( calc(100% - 2em) ));
					@include transform( translateX( 100% ));
					right: #{$max_offset - $this_offset}em;
				}

				.content{
					right: #{$other_offset}em;
				}
			}
		}
		
	}
}

.section{
	&.section--introduction{
		@include box-sizing( border-box );
		width:100%;
		height: 100%;
		padding: 3em  #{($tab_width * $tab_count) + 3}em 3em 3em;
		overflow: auto;
	}
	&.section--capture{
		padding: 3em  #{($tab_width * $tab_count) + 3}em 3em 3em;
		.video-container{
			position: relative;	
			video{
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: auto;
			}
			canvas{
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: auto;	
			}
		}
	}
}